
Bootstrap: docker
From: ibmcom/powerai:1.5.4-all-ubuntu18.04-py3

%post
    apt-get -y update
    apt-get -y install wget ctorrent nocache sox libsox-dev libsox-fmt-all zip unzip tar libcgroup1 cgroup-tools mpi-default-dev libsm6 libxext6 libxrender1 libffi-dev libhdf5-dev gfortran cmake 

    pip install -e git+git://github.com/mila-iqia/training@master#egg=common&subdirectory=common
    pip install Cython
    pip install --no-deps git+git://github.com/Delaunay/apex@master#egg=apex git+git://github.com/Delaunay/pytorch-a2c-ppo-acktr@master#egg=a2c_ppo_acktr git+git://github.com/Delaunay/benchutils@master#egg=benchutils git+git://github.com/Delaunay/baselines.git absl-py==0.7.1 astor==0.7.1 atari-py==0.1.7 attrs==19.1.0 certifi==2019.3.9 cffi==1.12.2 chardet==3.0.4 Click==7.0 cloudpickle==0.8.1 comet-git-pure==0.19.11 configobj==5.0.6 cycler==0.10.0 dill==0.2.9 everett==1.0.2 future==0.17.1 gast==0.2.2 gitdb2==2.0.5 GitPython==2.1.11 glfw==1.7.1 grpcio==1.19.0 gym==0.12.1 h5py==2.9.0 idna==2.8 imageio==2.5.0 joblib==0.13.2 jsonschema==3.0.1 Keras-Applications==1.0.7 Keras-Preprocessing==1.0.9 kiwisolver==1.0.1 lockfile==0.12.2 Markdown==3.1 matplotlib==3.0.3 mlperf-compliance==0.0.10 mock==2.0.0 mpi4py==3.0.1 netifaces==0.10.9 numpy==1.16.2 nvidia-ml-py3==7.352.0 olefile==0.46 pandas==0.24.2 pbr==5.1.3 Pillow==5.4.1 progressbar2==3.39.3 protobuf==3.7.1 pybullet==2.4.8 cython pycocotools==2.0.0 pycparser==2.19 pyglet==1.3.2 PyOpenGL==3.1.0 pyparsing==2.3.1 pyrsistent==0.14.11 python-dateutil==2.8.0 python-utils==2.3.0 pytz==2018.9 pyzmq==18.0.1 requests==2.21.0 sacrebleu==1.3.1 scipy==1.2.1 six==1.12.0 smmap2==2.0.5 termcolor==1.1.0 torchvision==0.2.2 tqdm==4.31.1 typing==3.6.6 urllib3>=1.24.2 websocket-client==0.56.0 Werkzeug==0.15.2 wurlitzer==1.0.2 zmq==0.0.0  

    

%environment
    export BASE=/data/
